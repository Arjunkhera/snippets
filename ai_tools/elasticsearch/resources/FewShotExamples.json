[
  {
    "natural_language": "Find all folders for client with relationship ID 9341455527283258, relationship type client, in category _private.qboa, for tax year 2024, with subcategory booksreview, that are not PCI",
    "notes": "Query to search for folders matching certain application attributes",
    "elasticsearch_query": {
      "bool": {
        "must": [
          {
            "term": {
              "entityType.keyword": "FOLDER"
            }
          },
          {
            "term": {
              "commonAttributes.applicationAttributes.relationshipId.keyword": "9341455527283258"
            }
          },
          {
            "term": {
              "commonAttributes.applicationAttributes.relationshipType.keyword": "client"
            }
          },
          {
            "term": {
              "commonAttributes.applicationAttributes.category.keyword": "_private.qboa"
            }
          },
          {
            "term": {
              "authorization.isPci": false
            }
          },
          {
            "term": {
              "commonAttributes.taxYear.keyword": 2024
            }
          },
          {
            "term": {
              "commonAttributes.applicationAttributes.subcategory.keyword": "booksreview"
            }
          }
        ]
      }
    }
  },
  {
    "natural_language": "Get all documents and folders under parent folder ID 40658d40-8764-4b41-aea6-a6c6450944e6",
    "notes": "Query to search for documents and folders under a specific folder",
    "elasticsearch_query": {
      "bool": {
        "should": [
          {
            "bool": {
              "must": [
                {
                  "term": {
                    "entityType.keyword": "DOCUMENT"
                  }
                },
                {
                  "term": {
                    "systemAttributes.parentId.keyword": "40658d40-8764-4b41-aea6-a6c6450944e6"
                  }
                }
              ]
            }
          },
          {
            "bool": {
              "must": [
                {
                  "term": {
                    "entityType.keyword": "FOLDER"
                  }
                },
                {
                  "term": {
                    "systemAttributes.parentId.keyword": "40658d40-8764-4b41-aea6-a6c6450944e6"
                  }
                }
              ]
            }
          }
        ]
      }
    }
  },
  {
    "natural_language": "Find receipts with auth type REALM from offering IDs Intuit.smallbusiness.qbeswarehouse.qbwhandroidapp, Intuit.qbshared.attachments.qbdtreceiptscapturemob, or Intuit.qbshared.attachments.qbdtreceiptscapture, excluding those in reviewed category and those with data extraction status ASYNC_COMPLETED",
    "notes": "Query to search for documents that have specific offering IDs",
    "elasticsearch_query": {
      "bool": {
        "filter": [
          {
            "terms": {
              "systemAttributes.offeringId.keyword": [
                "Intuit.smallbusiness.qbeswarehouse.qbwhandroidapp",
                "Intuit.qbshared.attachments.qbdtreceiptscapturemob",
                "Intuit.qbshared.attachments.qbdtreceiptscapture"
              ]
            }
          }
        ],
        "must": [
          {
            "term": {
              "commonAttributes.documentType.keyword": "receipt"
            }
          },
          {
            "term": {
              "authorization.authType.keyword": "REALM"
            }
          }
        ],
        "must_not": [
          {
            "term": {
              "commonAttributes.applicationAttributes.category.keyword": "reviewed"
            }
          },
          {
            "term": {
              "systemAttributes.dataExtractionStatus.keyword": "ASYNC_COMPLETED"
            }
          }
        ]
      }
    }
  },
  {
    "natural_language": "List all documents and folders in the root folder",
    "notes": "Query to list documents under root folder",
    "elasticsearch_query": {
      "bool": {
        "should": [
          {
            "bool": {
              "must": [
                {
                  "term": {
                    "entityType.keyword": "DOCUMENT"
                  }
                },
                {
                  "term": {
                    "systemAttributes.parentId.keyword": "root"
                  }
                }
              ]
            }
          },
          {
            "bool": {
              "must": [
                {
                  "term": {
                    "entityType.keyword": "FOLDER"
                  }
                },
                {
                  "term": {
                    "systemAttributes.parentId.keyword": "root"
                  }
                }
              ]
            }
          }
        ]
      }
    }
  },
  {
    "natural_language": "Find documents with system ID trigger-elastic-index",
    "notes": "Query to search for documents given their documentId",
    "elasticsearch_query": {
      "bool": {
        "must": [
          {
            "term": {
              "entityType.keyword": "DOCUMENT"
            }
          },
          {
            "term": {
              "systemAttributes.id.keyword": "trigger-elastic-index"
            }
          }
        ]
      }
    }
  },
  {
    "natural_language": "Find non-PCI documents with offering ID Intuit.intcollabs.collab.collabvep and external association starting with vep://reqId/557ab504-b291-42f6-9f07-7bd159cdce5d",
    "notes": "Query with nested query for offering attributes",
    "elasticsearch_query": {
      "bool": {
        "should": [
          {
            "bool": {
              "must": [
                {
                  "term": {
                    "entityType.keyword": "DOCUMENT"
                  }
                },
                {
                  "term": {
                    "authorization.isPci": false
                  }
                },
                {
                  "nested": {
                    "path": "commonAttributes.offeringAttributes",
                    "query": {
                      "bool": {
                        "must": [
                          {
                            "term": {
                              "commonAttributes.offeringAttributes.offeringId.keyword": "Intuit.intcollabs.collab.collabvep"
                            }
                          },
                          {
                            "prefix": {
                              "commonAttributes.offeringAttributes.externalAssociations.keyword": "vep://reqId/557ab504-b291-42f6-9f07-7bd159cdce5d"
                            }
                          }
                        ]
                      }
                    }
                  }
                }
              ]
            }
          }
        ]
      }
    }
  }
]